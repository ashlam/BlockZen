# 游戏说明文档

## 1. 游戏简介
BlockZen 是一款休闲益智类方块消除游戏。玩家需要将底部托盘中的方块零件拖入上方的 9x9 棋盘中，通过填满行、列或九宫格来消除方块并得分。游戏融合了传统方块消除与九宫格数独的区域概念，带来更丰富的策略体验。

## 2. 界面与操作区域
### 2.1 棋盘 (Board)
- **位置**：屏幕中央的 9x9 网格区域。
- **视觉**：网格背景采用 3x3 的交替色块（白色与淡蓝色）设计，直观展示了九宫格的划分。
- **功能**：这是主要的放置和消除区域，玩家需要将零件放入空白格子中。

### 2.2 托盘 (Tray)
- **位置**：屏幕下方。
- **功能**：用于展示当前可用的 3 个待选零件。
- **视觉**：托盘背景色统一，内部的零件按其配置颜色显示，方便玩家通过颜色和形状快速识别。

### 2.3 拖拽影子 (Drag Shadow)
- **功能**：当玩家从托盘拖起零件时，棋盘上会显示该零件的“影子”，跟随手指移动。
- **作用**：辅助玩家预判落子位置。若位置合法，影子会显示为零件对应的颜色；松手后零件将落入该位置。

### 2.4 状态栏 (HUD)
- **位置**：屏幕上方。
- **内容**：显示当前得分、连击数（Combo）、最高分等信息。在挑战模式下，还会显示剩余步数。

## 3. 游戏物体与概念
### 3.1 零件 (Piece)
游戏中的基础积木，由若干个小方块组成。
- **形状**：包括直线（4格/5格）、L形、T形、方块（2x2）、Z形、勾形等多种形态。
- **颜色**：每种形状对应特定的颜色（例如：4格直线为深蓝色，T形为绿色），颜色在托盘和拖拽时保持一致。
- **刷新**：每轮随机生成 3 个零件，全部用完后会自动刷新下一轮。

### 3.2 消除 (Clear)
当满足以下任一条件时，方块会被消除并得分：
- **行消除 (Row Clear)**：填满横向任意一行（9格）。
- **列消除 (Column Clear)**：填满纵向任意一列（9格）。
- **区域消除 (Box Clear)**：填满任意一个 3x3 的九宫格区域。

### 3.3 连击 (Combo)
连击是获取高分的关键机制，计算规则如下：
1. **连续消除**：如果玩家在连续的回合（Step）中都触发了消除，连击数会累加。
2. **多重消除**：如果在单次回合中同时消除了多个区域（例如同时消除了一行和一个九宫格），也会计入连击。
3. **叠加**：上述两种情况会叠加计算。
   - *示例*：Step 1 消除 1 个区域（Combo 1）；Step 2 消除 3 个区域（Combo 1 + 3 = 4）。
4. **中断**：如果某一步未发生任何消除，连击数清零。

## 4. 游戏模式
### 4.1 普通模式 (Classic Mode)
- **目标**：尽情消除，挑战最高分。
- **规则**：无步数限制，直到托盘上的零件无法放入棋盘上的任意空白位置时，游戏结束。

### 4.2 挑战模式 (Challenge Mode)
- **目标**：在有限的资源下完成特定任务。
- **规则**：
  - **步数限制**：玩家必须在规定的步数内（如 20 步）完成挑战。
  - **预设布局**：开局时棋盘上可能已经存在预设的方块障碍（例如中心 3x3 区域已被填充）。

## 5. 专有名词表 (Glossary)

| 中文名称 | 英文名称 | 解释 |
| :--- | :--- | :--- |
| **棋盘** | Board | 9x9 的游戏主区域，包含 81 个格子。 |
| **托盘** | Tray | 底部存放待选零件的容器区域。 |
| **零件** | Piece | 可拖拽放置的方块组合，具有特定的形状和颜色。 |
| **九宫格** | Box/Area | 棋盘上划分的 9 个 3x3 小区域，填满可触发消除。 |
| **连击** | Combo | 连续或多重消除触发的奖励机制。 |
| **回合/步** | Step | 玩家成功将一个零件放入棋盘的操作过程。 |
| **消除** | Clear | 填满行、列或区域使方块消失并得分的过程。 |
| **影子** | Shadow | 拖拽零件时在棋盘上显示的预览投影。 |
